{% extends 'base.html' %}
{% load static %}

{% block title %}My Impact - EcoLearn{% endblock %}

{% block content %}
<div class="min-h-screen bg-gray-50 py-8">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        
        <!-- Header -->
        <div class="bg-gradient-to-r from-eco-green to-blue-600 rounded-lg shadow-lg p-8 mb-8 text-white">
            <h1 class="text-4xl font-bold mb-2">My Environmental Impact</h1>
            <p class="text-lg opacity-90">Track your contribution to a cleaner Zambia</p>
        </div>

        <!-- Impact Score -->
        <div class="bg-white rounded-lg shadow-lg p-8 mb-8 text-center">
            <h2 class="text-2xl font-semibold text-gray-700 mb-4">Total Impact Score</h2>
            <div class="text-6xl font-bold text-eco-green mb-2">{{ impact_score }}</div>
            <p class="text-gray-600">Keep up the great work!</p>
        </div>

        <!-- Metrics Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
            
            <!-- Learning Progress -->
            <div class="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow">
                <div class="flex items-center justify-between mb-4">
                    <div class="p-3 bg-blue-100 rounded-lg">
                        <i class="fas fa-graduation-cap text-blue-600 text-3xl"></i>
                    </div>
                    <span class="text-3xl font-bold text-blue-600">{{ modules_completed }}</span>
                </div>
                <h3 class="text-lg font-semibold text-gray-900 mb-1">Modules Completed</h3>
                <p class="text-sm text-gray-600">Educational modules finished</p>
            </div>

            <!-- Certificates -->
            <div class="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow">
                <div class="flex items-center justify-between mb-4">
                    <div class="p-3 bg-yellow-100 rounded-lg">
                        <i class="fas fa-certificate text-yellow-600 text-3xl"></i>
                    </div>
                    <span class="text-3xl font-bold text-yellow-600">{{ certificates_earned }}</span>
                </div>
                <h3 class="text-lg font-semibold text-gray-900 mb-1">Certificates Earned</h3>
                <p class="text-sm text-gray-600">Achievements unlocked</p>
            </div>

            <!-- Reports Filed -->
            <div class="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow">
                <div class="flex items-center justify-between mb-4">
                    <div class="p-3 bg-red-100 rounded-lg">
                        <i class="fas fa-flag text-red-600 text-3xl"></i>
                    </div>
                    <span class="text-3xl font-bold text-red-600">{{ reports_filed }}</span>
                </div>
                <h3 class="text-lg font-semibold text-gray-900 mb-1">Reports Filed</h3>
                <p class="text-sm text-gray-600">Illegal dumping reports</p>
            </div>

            <!-- Events Attended -->
            <div class="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow">
                <div class="flex items-center justify-between mb-4">
                    <div class="p-3 bg-green-100 rounded-lg">
                        <i class="fas fa-calendar-check text-green-600 text-3xl"></i>
                    </div>
                    <span class="text-3xl font-bold text-green-600">{{ events_attended }}</span>
                </div>
                <h3 class="text-lg font-semibold text-gray-900 mb-1">Events Attended</h3>
                <p class="text-sm text-gray-600">Community events joined</p>
            </div>

            <!-- Challenges Joined -->
            <div class="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow">
                <div class="flex items-center justify-between mb-4">
                    <div class="p-3 bg-purple-100 rounded-lg">
                        <i class="fas fa-trophy text-purple-600 text-3xl"></i>
                    </div>
                    <span class="text-3xl font-bold text-purple-600">{{ challenges_joined }}</span>
                </div>
                <h3 class="text-lg font-semibold text-gray-900 mb-1">Challenges Joined</h3>
                <p class="text-sm text-gray-600">Active participation</p>
            </div>

            <!-- Stories Shared -->
            <div class="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow">
                <div class="flex items-center justify-between mb-4">
                    <div class="p-3 bg-orange-100 rounded-lg">
                        <i class="fas fa-star text-orange-600 text-3xl"></i>
                    </div>
                    <span class="text-3xl font-bold text-orange-600">{{ stories_shared }}</span>
                </div>
                <h3 class="text-lg font-semibold text-gray-900 mb-1">Success Stories</h3>
                <p class="text-sm text-gray-600">Stories shared & approved</p>
            </div>

        </div>

        <!-- Action Buttons -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <a href="{% url 'elearning:module_list' %}" 
               class="block bg-white rounded-lg shadow-md p-6 text-center hover:shadow-lg transition-shadow">
                <i class="fas fa-book-open text-eco-green text-4xl mb-3"></i>
                <h3 class="font-semibold text-gray-900">Continue Learning</h3>
            </a>
            
            <a href="{% url 'community:challenges_list' %}" 
               class="block bg-white rounded-lg shadow-md p-6 text-center hover:shadow-lg transition-shadow">
                <i class="fas fa-trophy text-purple-600 text-4xl mb-3"></i>
                <h3 class="font-semibold text-gray-900">Join Challenges</h3>
            </a>
            
            <a href="{% url 'reporting:report_dumping' %}" 
               class="block bg-white rounded-lg shadow-md p-6 text-center hover:shadow-lg transition-shadow">
                <i class="fas fa-flag text-red-600 text-4xl mb-3"></i>
                <h3 class="font-semibold text-gray-900">Report Dumping</h3>
            </a>
        </div>

    </div>
</div>
{% endblock %}
